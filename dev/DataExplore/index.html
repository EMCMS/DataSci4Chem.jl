<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Data exploration · DataSci4Chem.jl</title><meta name="title" content="Data exploration · DataSci4Chem.jl"/><meta property="og:title" content="Data exploration · DataSci4Chem.jl"/><meta property="twitter:title" content="Data exploration · DataSci4Chem.jl"/><meta name="description" content="Documentation for DataSci4Chem.jl."/><meta property="og:description" content="Documentation for DataSci4Chem.jl."/><meta property="twitter:description" content="Documentation for DataSci4Chem.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="DataSci4Chem.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">DataSci4Chem.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../Basics/">Basics</a></li><li><a class="tocitem" href="../vis/">Data visualization</a></li><li><a class="tocitem" href="../Matrix/">Matrix manipulation</a></li><li><a class="tocitem" href="../svd/">SVD</a></li><li class="is-active"><a class="tocitem" href>Data exploration</a><ul class="internal"><li><a class="tocitem" href="#Data-summary"><span>Data summary</span></a></li><li><a class="tocitem" href="#Missing-values"><span>Missing values</span></a></li><li><a class="tocitem" href="#Data-dimensionality"><span>Data dimensionality</span></a></li></ul></li><li><a class="tocitem" href="../RootFinding/">Numerical root finding</a></li><li><a class="tocitem" href="../Integration/">Numerical integration</a></li><li><a class="tocitem" href="../fit/">Curve fitting</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Data exploration</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Data exploration</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EMCMS/DataSci4Chem.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EMCMS/DataSci4Chem.jl/blob/main/docs/src/DataExplore.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Data-exploration"><a class="docs-heading-anchor" href="#Data-exploration">Data exploration</a><a id="Data-exploration-1"></a><a class="docs-heading-anchor-permalink" href="#Data-exploration" title="Permalink"></a></h1><p>Data exploration is a set of tools that you can use to look at, visualize, and infer about an unknown dataset. The tools explored here will include data summary, distribution of variables, missing values, and finally variable reduction. It should be noted that this is not a complete list of potential tools that can be used for data exploration. </p><h2 id="Data-summary"><a class="docs-heading-anchor" href="#Data-summary">Data summary</a><a id="Data-summary-1"></a><a class="docs-heading-anchor-permalink" href="#Data-summary" title="Permalink"></a></h2><p>One of the first steps in getting the data summary is to assess the number of variables and measurements. As a convention we tend to put the variables in columns while putting the measurements as rows. For dataframes this is very simple to assess while for matrices this can become tricky. Let&#39;s for example take a look at the &quot;iris dataset&quot;. </p><pre><code class="language-julia hljs">using DataSci4Chem

data = dataset(&quot;datasets&quot;, &quot;iris&quot;);

data[1:5,:]</code></pre><div><div style = "float: left;"><span>5×5 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">SepalLength</th><th style = "text-align: left;">SepalWidth</th><th style = "text-align: left;">PetalLength</th><th style = "text-align: left;">PetalWidth</th><th style = "text-align: left;">Species</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "CategoricalArrays.CategoricalValue{String, UInt8}" style = "text-align: left;">Cat…</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">5.1</td><td style = "text-align: right;">3.5</td><td style = "text-align: right;">1.4</td><td style = "text-align: right;">0.2</td><td style = "text-align: left;">setosa</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">4.9</td><td style = "text-align: right;">3.0</td><td style = "text-align: right;">1.4</td><td style = "text-align: right;">0.2</td><td style = "text-align: left;">setosa</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">4.7</td><td style = "text-align: right;">3.2</td><td style = "text-align: right;">1.3</td><td style = "text-align: right;">0.2</td><td style = "text-align: left;">setosa</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">4.6</td><td style = "text-align: right;">3.1</td><td style = "text-align: right;">1.5</td><td style = "text-align: right;">0.2</td><td style = "text-align: left;">setosa</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">5.0</td><td style = "text-align: right;">3.6</td><td style = "text-align: right;">1.4</td><td style = "text-align: right;">0.2</td><td style = "text-align: left;">setosa</td></tr></tbody></table></div><p>We can see that there are five variables in the dataset. Four of which are numerical while one of the variables is categorical. To be able to explore the data, we should look at the mean, median, maximum, minimum, and standard deviation.</p><p>For the calculation of mean (i.e. average) we can use the function <em>mean(-)</em>. The mean can be calculated column wise, row wise, and on the full dataset. In this case we are interested to evaluate the mean of each column as here they represent each variable. </p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Please note that functions mean, median, etc work on matrices rather than dataframes. Therefore you must to first convert your data into a matrix via <em>Matrix(-)</em>. Also, categorical data cannot be converted to a matrix as matrices cannot hold mixed data.</p></div></div><pre><code class="language-julia hljs">using DataSci4Chem

data_c = Matrix(data[:,1:4])
md = mean(data_c,dims = 1 )</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1×4 Matrix{Float64}:
 5.84333  3.05733  3.758  1.19933</code></pre><p>Similar to the mean, there are built in functions for <em>median(-)</em>, <em>minimum(-)</em>, and <em>maximum(-)</em>. </p><p>In addition to the data boundaries, we usually want to know about the presence of &quot;NAN&quot; and/or missing values. In the below section a few simple ways of dealing with such entities will be discussed. For the missing values you can use the julia base function <em>ismissing(-)</em>, which will generate a logical value of one for &quot;missing&quot; and zeros for the contrary. </p><pre><code class="language-julia hljs">using DataSci4Chem

x = [1, missing, 3]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Union{Missing, Int64}}:
 1
  missing
 3</code></pre><p>To detect this missing value, we can use combination of <em>ismissing(-)</em> and the vectorization. </p><pre><code class="language-julia hljs">using DataSci4Chem

ismissing.(x)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element BitVector:
 0
 1
 0</code></pre><p>This operation can be expanded to multidimensional matrices as well. Additionally, this output can be used for finding and replacing the missing values with more workable values. </p><pre><code class="language-julia hljs">using DataSci4Chem

x1 = deepcopy(x)

x1[ismissing.(x)] .= -99

x1</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Union{Missing, Int64}}:
   1
 -99
   3</code></pre><p>In case of dataframes you can use the function <em>replace!(-)</em> provided via <em>DataFrames.jl</em> package.</p><pre><code class="language-julia hljs">using DataSci4Chem

df = DataFrame(x = [1, missing, 3])</code></pre><div><div style = "float: left;"><span>3×1 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">x</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Union{Missing, Int64}" style = "text-align: left;">Int64?</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">3</td></tr></tbody></table></div><pre><code class="language-julia hljs">using DataSci4Chem

replace!(df.x, missing =&gt; -99)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Union{Missing, Int64}}:
   1
 -99
   3</code></pre><p>Another entity that can be found in large and complex datasets is <a href="https://en.wikipedia.org/wiki/NaN">&quot;NaN&quot;</a>. Most functions in have difficulties dealing with &quot;NaN. For example the sum of NaN and any number will result in a NaN. </p><pre><code class="language-julia hljs">using DataSci4Chem

2 + NaN</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">NaN</code></pre><p>To mitigate the issues associated with NaN, you can either remove/replace them with a number or us can exclude them from your calculations. To find and replace the NaN values, you need to work with matrices and you can use the function <em>isnan(-)</em>, which operates the same way as the function <em>ismissing(-)</em>. </p><pre><code class="language-julia hljs">using DataSci4Chem

x = [1, NaN, 3]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Float64}:
   1.0
 NaN
   3.0</code></pre><pre><code class="language-julia hljs">using DataSci4Chem

x1 = deepcopy(x)

x1[isnan.(x)] .= -199

x1</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Float64}:
    1.0
 -199.0
    3.0</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Within the <em>DataFrames.jl</em> package implemented in the <em>DataSci4Chem.jl</em> you have access to the function <em>describe(-)</em> which is able to parse a dataframe and provide you with this basic information about your table. This command can handle both numerical and categorical data as in a dataframes, the columns independent from each other. </p></div></div><pre><code class="language-julia hljs">using DataSci4Chem

describe(data)</code></pre><div><div style = "float: left;"><span>5×7 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">variable</th><th style = "text-align: left;">mean</th><th style = "text-align: left;">min</th><th style = "text-align: left;">median</th><th style = "text-align: left;">max</th><th style = "text-align: left;">nmissing</th><th style = "text-align: left;">eltype</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Symbol" style = "text-align: left;">Symbol</th><th title = "Union{Nothing, Float64}" style = "text-align: left;">Union…</th><th title = "Any" style = "text-align: left;">Any</th><th title = "Union{Nothing, Float64}" style = "text-align: left;">Union…</th><th title = "Any" style = "text-align: left;">Any</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "DataType" style = "text-align: left;">DataType</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">SepalLength</td><td style = "text-align: left;">5.84333</td><td style = "text-align: left;">4.3</td><td style = "text-align: left;">5.8</td><td style = "text-align: left;">7.9</td><td style = "text-align: right;">0</td><td style = "text-align: left;">Float64</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">SepalWidth</td><td style = "text-align: left;">3.05733</td><td style = "text-align: left;">2.0</td><td style = "text-align: left;">3.0</td><td style = "text-align: left;">4.4</td><td style = "text-align: right;">0</td><td style = "text-align: left;">Float64</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">PetalLength</td><td style = "text-align: left;">3.758</td><td style = "text-align: left;">1.0</td><td style = "text-align: left;">4.35</td><td style = "text-align: left;">6.9</td><td style = "text-align: right;">0</td><td style = "text-align: left;">Float64</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: left;">PetalWidth</td><td style = "text-align: left;">1.19933</td><td style = "text-align: left;">0.1</td><td style = "text-align: left;">1.3</td><td style = "text-align: left;">2.5</td><td style = "text-align: right;">0</td><td style = "text-align: left;">Float64</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: left;">Species</td><td style = "font-style: italic; text-align: left;"></td><td style = "text-align: left;">setosa</td><td style = "font-style: italic; text-align: left;"></td><td style = "text-align: left;">virginica</td><td style = "text-align: right;">0</td><td style = "text-align: left;">CategoricalValue{String, UInt8}</td></tr></tbody></table></div><h2 id="Missing-values"><a class="docs-heading-anchor" href="#Missing-values">Missing values</a><a id="Missing-values-1"></a><a class="docs-heading-anchor-permalink" href="#Missing-values" title="Permalink"></a></h2><p>In this section we are tackling issues related to missing values as well as outliers etc. The main idea behind this is that one or more data points are removed or replaced due to uncertainty or the fact that they are undefined. In the previous section we learned how to identify these data points. Here we will go through different strategies to handle this problem. There are two main strategies for dealing with missing values, namely: removal and imputation. </p><h3 id="Removal"><a class="docs-heading-anchor" href="#Removal">Removal</a><a id="Removal-1"></a><a class="docs-heading-anchor-permalink" href="#Removal" title="Permalink"></a></h3><p>If there are a few data points missing in your dataset, you can remove those measurements (i.e. rows) from your dataset prior to model building. However, this may cause removal of several measurements from your dataset, reducing your degrees of freedom. Another option is the removal of the variable with a high frequency of &quot;NaN&quot; and/or &quot;missing&quot; values. This option can be used when there are enough variables to be used for your model. The removal based methods can be used only when we are dealing with a small number of data points that must be replaced. </p><h3 id="Imputation"><a class="docs-heading-anchor" href="#Imputation">Imputation</a><a id="Imputation-1"></a><a class="docs-heading-anchor-permalink" href="#Imputation" title="Permalink"></a></h3><p><a href="https://en.wikipedia.org/wiki/Imputation_(statistics)">Imputation</a> is the process of the replacing a missing value with the most likely estimate for that data point. There are several tools ranging from simple random replacement to more sophisticated methods such as external regression to replace the missing values. Here we will discuss hot-deck, mean/median imputation, and regression. </p><h4 id="Hot-deck"><a class="docs-heading-anchor" href="#Hot-deck">Hot-deck</a><a id="Hot-deck-1"></a><a class="docs-heading-anchor-permalink" href="#Hot-deck" title="Permalink"></a></h4><p>This method tends to first sort the data in ascending order. In the next step the last observation is carried over to replace the missing value. </p><pre><code class="language-julia hljs">using DataSci4Chem

df = DataFrame(:a =&gt; [1.0, 2.0, missing, missing, 5.0], :b =&gt; [1.1, 2.2, 3.3, missing, 5.5])</code></pre><div><div style = "float: left;"><span>5×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Union{Missing, Float64}" style = "text-align: left;">Float64?</th><th title = "Union{Missing, Float64}" style = "text-align: left;">Float64?</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">2.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">3.3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">5.0</td><td style = "text-align: right;">5.5</td></tr></tbody></table></div><pre><code class="language-julia hljs">using DataSci4Chem

# Imputed DF

df = DataFrame(:a =&gt; [1.0, 2.0, 2, 2, 5.0], :b =&gt; [1.1, 2.2, 3.3, 3.3, 5.5])</code></pre><div><div style = "float: left;"><span>5×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">2.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">3.3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">3.3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">5.0</td><td style = "text-align: right;">5.5</td></tr></tbody></table></div><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Please note that your data must be sorted. Applying the sort function in most cases puts the missing values at the top or the bottom of the matrix/dataframe. This implies that you are replacing the missing values with the largest or the smallest measurements.</p></div></div><h4 id="Mean/median"><a class="docs-heading-anchor" href="#Mean/median">Mean/median</a><a id="Mean/median-1"></a><a class="docs-heading-anchor-permalink" href="#Mean/median" title="Permalink"></a></h4><p>Another strategy for imputing the missing values is to use the mean or the median of each variable to replace the missing values in that specific variable. The main advantage of this method is that the mean or the median of the data will remain constant, which may be advantageous depending on the scope of the study. </p><pre><code class="language-julia hljs">using DataSci4Chem

# Imputed DF

df = DataFrame(:a =&gt; [1.0, 2.0, 4, 4, 5.0], :b =&gt; [1.1, 2.2, 3.3, 4.3, 5.5])</code></pre><div><div style = "float: left;"><span>5×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">a</th><th style = "text-align: left;">b</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">2.2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">4.0</td><td style = "text-align: right;">3.3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">4.0</td><td style = "text-align: right;">4.3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">5.0</td><td style = "text-align: right;">5.5</td></tr></tbody></table></div><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Depending on the number of missing points this approach may change the structure of your dataset, thus impacting your final model.</p></div></div><h4 id="Regression"><a class="docs-heading-anchor" href="#Regression">Regression</a><a id="Regression-1"></a><a class="docs-heading-anchor-permalink" href="#Regression" title="Permalink"></a></h4><p>Regression is another important approach for imputation of missing values. If the regression strategy only uses the variable in question itself, it is called <a href="https://en.wikipedia.org/wiki/Interpolation">interpolation</a>. On the other hand, if the other variables in your dataset are used the variable with missing values, this is called conventional regression based imputation. In this case, all the other variables in your dataset are used to predict the variable with missing values. In the next step, this model is used for imputation of the missing values. </p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This method depending on the number of imputed values may bias your system towards the regression model used for imputation. Using a stochastic approach where some of the variables are excluded at random has shown a potential for higher accuracy imputation.</p></div></div><p>There are also more sophisticated approaches for data imputation, for example SVD. There is julia package called <a href="https://invenia.github.io/Impute.jl/latest/api/imputation/#Impute.Imputor"><em>Impute.jl</em></a> fully dedicated to different imputation approaches. </p><h2 id="Data-dimensionality"><a class="docs-heading-anchor" href="#Data-dimensionality">Data dimensionality</a><a id="Data-dimensionality-1"></a><a class="docs-heading-anchor-permalink" href="#Data-dimensionality" title="Permalink"></a></h2><p>In many cases, our datasets have multiple dimensions (i.e. variables). However, not all the variables contribute to a potential model in the same manner. Sometimes these variables are redundant, for example highly correlating variables. In those cases, you do not need to have all those variables included in your model, as one of them will bring enough information for the potential model. The very first step to detect such cases is to detect such potential redundancies. </p><h3 id="Correlation-analysis"><a class="docs-heading-anchor" href="#Correlation-analysis">Correlation analysis</a><a id="Correlation-analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Correlation-analysis" title="Permalink"></a></h3><p>The best approach to perform such assessment is calculate pair wise <a href="https://en.wikipedia.org/wiki/Correlation_coefficient">correlation coefficient</a> analysis. The correlation coefficients can be calculated for a linear relationship (i.e. <a href="https://en.wikipedia.org/wiki/Pearson_correlation_coefficient">Pearson correlation</a>) or for a nonlinear case (i.e <a href="https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient">Spearman correlation</a>). </p><p><strong>Pearson</strong> correlation assesses the linear relationship between two variables as follows: </p><p class="math-container">\[
r_{x_i,x_{i+1}} = \frac{cov(x_i,x_{i+1})}{\sigma _{x_i} \sigma _{x_{i+1}}}
\]</p><p>These calculations can be performed using the function <em>cor(-)</em> implemented via this package. </p><pre><code class="language-julia hljs">using DataSci4Chem

r_p = cor(data_c)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">4×4 Matrix{Float64}:
  1.0       -0.11757    0.871754   0.817941
 -0.11757    1.0       -0.42844   -0.366126
  0.871754  -0.42844    1.0        0.962865
  0.817941  -0.366126   0.962865   1.0</code></pre><p>Here since we have provided a matrix to the function, we have a square matrix with diagonal of one. This is exactly what we expect as the diagonal represents the autocorrelation between each variable and itself. The other pixels, on the other hand, indicate the relationship between two pairs of variables. For example the location <em>r_p[4,1] = 0.8179</em> is the linear correlation coefficient between first and fourth variables. </p><pre><code class="language-julia hljs">using DataSci4Chem

heatmap(r_p,xlabel = &quot;variable number&quot; , ylabel = &quot;variable number&quot;, colorbar_title = &quot;Pearson correlation&quot;)</code></pre><img src="b5f9556b.svg" alt="Example block output"/><p>The <span>$|r_p|$</span> closer to one indicates a more significant linear relationship between two sets of variables. We can see these relationships clearly in the below scatter plots. </p><pre><code class="language-julia hljs">using DataSci4Chem

l_c = r_p[4,1]

scatter(data_c[:,1],data_c[:,4], xlabel = &quot;Sepal Length&quot;, ylabel = &quot;Petal Width&quot;, label = &quot;$l_c&quot;)</code></pre><img src="cd46328d.svg" alt="Example block output"/><pre><code class="language-julia hljs">using DataSci4Chem

l_nc = r_p[2,1]

scatter(data_c[:,1],data_c[:,2], xlabel = &quot;Sepal Length&quot;, ylabel = &quot;Sepal Width&quot;, label = &quot;$l_nc&quot;)</code></pre><img src="70961431.svg" alt="Example block output"/><p><strong>Spearman correlation</strong> is for detection of monotonic relationship between two variables, independently from its linearity. Spearman correlation is a non parametric method and thus works with the ranks rather than the actual values. To calculate Spearman correlation coefficient between a set of variables you can use the function <em>corspearman(-)</em> in a similar manner to the <em>cor(-)</em> function. </p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Looking at the correlation matrix above, I would use only variable one and two for any future model building as variables three and four are covered by the first variable. </p></div></div><h3 id="Matrix-decomposition"><a class="docs-heading-anchor" href="#Matrix-decomposition">Matrix decomposition</a><a id="Matrix-decomposition-1"></a><a class="docs-heading-anchor-permalink" href="#Matrix-decomposition" title="Permalink"></a></h3><p>Another approach for the dimensionality reduction is the application of matrix decomposition tools such as <a href="https://emcms.github.io/ACS.jl/dev/svd/">SVD</a> or <a href="https://en.wikipedia.org/wiki/Principal_component_analysis">PCA</a> where the scores&#39; matrix for a selected number of principal components represent a large enough variance in the dataset to be used for further model building. An example of such systems is <a href="https://en.wikipedia.org/wiki/Principal_component_regression">Principal Component Regression</a>. </p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../svd/">« SVD</a><a class="docs-footer-nextpage" href="../RootFinding/">Numerical root finding »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 15 December 2023 12:24">Friday 15 December 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
